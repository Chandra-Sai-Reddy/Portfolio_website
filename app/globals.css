@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Variable Font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

@layer base {
  :root {
    /* Light Theme Colors */
    --background: 0 0% 100%;          /* Pure White */
    --foreground: 0 0% 0%;            /* Pure Black */
    --card: 0 0% 98%;                 /* Light Gray for cards */
    --card-foreground: 0 0% 0%;       /* Black text on cards */
    --popover: 0 0% 100%;             /* White for popovers */
    --popover-foreground: 0 0% 0%;    /* Black text */
    --primary: 217 91% 60%;           /* Blue Accent #3b82f6 */
    --primary-foreground: 0 0% 100%;  /* White on blue */
    --secondary: 0 0% 96%;            /* Light Gray */
    --secondary-foreground: 0 0% 0%;  /* Black text */
    --muted: 0 0% 95%;                /* Light muted */
    --muted-foreground: 0 0% 45%;     /* Dark gray text */
    --accent: 217 91% 60%;            /* Blue accent */
    --accent-foreground: 0 0% 100%;   /* White on accent */
    --destructive: 0 84% 60%;         /* Red for errors */
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 90%;               /* Light gray borders */
    --input: 0 0% 95%;                /* Light gray inputs */
    --ring: 217 91% 60%;              /* Blue focus ring */
    --radius: 0.5rem;
    
    /* Futuristic Colors */
    --neon-cyan: 180 100% 50%;        /* #00ffff */
    --neon-pink: 300 100% 50%;        /* #ff00ff */
    --neon-purple: 270 100% 50%;      /* #8b00ff */
    --electric-blue: 195 100% 50%;    /* #00bfff */
  }
  
  .dark {
    /* Dark Theme Colors */
    --background: 0 0% 0%;           /* Pure Black */
    --foreground: 0 0% 100%;          /* Pure White */
    --card: 0 0% 4%;                  /* Near Black for cards */
    --card-foreground: 0 0% 100%;     /* White text on cards */
    --popover: 0 0% 4%;               /* Near Black for popovers */
    --popover-foreground: 0 0% 100%;  /* White text */
    --primary: 217 91% 60%;           /* Blue Accent #3b82f6 */
    --primary-foreground: 0 0% 100%;  /* White on blue */
    --secondary: 0 0% 15%;            /* Dark Gray */
    --secondary-foreground: 0 0% 100%; /* White text */
    --muted: 0 0% 20%;                /* Muted gray */
    --muted-foreground: 0 0% 70%;     /* Light gray text */
    --accent: 217 91% 60%;            /* Blue accent */
    --accent-foreground: 0 0% 100%;   /* White on accent */
    --destructive: 0 84% 60%;         /* Red for errors */
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 15%;               /* Dark gray borders */
    --input: 0 0% 15%;                /* Dark gray inputs */
    --ring: 217 91% 60%;              /* Blue focus ring */
  }

  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-variation-settings: "wght" 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
    /* Performance optimizations - simplified */
    transform: translateZ(0);
    backface-visibility: hidden;
  }
  
  /* Variable Font Typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-variation-settings: "wght" 700;
    letter-spacing: -0.02em;
  }
  
  code, pre {
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
  }
}

@layer utilities {
  /* Performance Optimizations - Used sparingly */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Animation Control - When animations are disabled */
  .reduce-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .reduce-motion .glass-card-hover:hover,
  .reduce-motion button:hover,
  .reduce-motion a:hover {
    transition-duration: 0.2s !important;
  }
  
  /* Reduced Motion Support - Simplify instead of removing */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    /* Keep essential visual feedback */
    .glass-card-hover:hover {
      transition-duration: 0.2s !important;
    }
    
    button:hover,
    a:hover {
      transition-duration: 0.2s !important;
    }
  }
  
  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .glass-card {
      border: 2px solid rgba(255, 255, 255, 0.5);
    }
    
    .text-muted-foreground {
      opacity: 1;
      color: rgba(255, 255, 255, 0.9);
    }
  }

  /* Touch-friendly interactions */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Text Balance */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Holographic Gradients */
  .holographic {
    background: linear-gradient(
      45deg,
      hsl(var(--neon-pink)),
      hsl(var(--neon-cyan)),
      hsl(var(--electric-blue)),
      hsl(var(--neon-purple)),
      hsl(var(--neon-pink))
    );
    background-size: 400% 400%;
    animation: holographic-shift 3s ease infinite;
  }

  @keyframes holographic-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Glassmorphism - Improved readability */
  .glass-card {
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 8px 32px 0 rgba(0, 0, 0, 0.3),
      inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  .glass-card-hover {
    @apply glass-card;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-card-hover:hover {
    background: rgba(0, 0, 0, 0.8);
    border-color: rgba(59, 130, 246, 0.4);
    box-shadow: 
      0 20px 40px 0 rgba(0, 0, 0, 0.5),
      inset 0 0 20px rgba(59, 130, 246, 0.1),
      inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
  }

  /* Neon Effects */
  .neon-text {
    text-shadow: 
      0 0 10px hsl(var(--primary)),
      0 0 20px hsl(var(--primary)),
      0 0 30px hsl(var(--primary)),
      0 0 40px hsl(var(--primary));
  }

  .neon-border {
    position: relative;
    overflow: hidden;
  }

  .neon-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    background: linear-gradient(
      45deg,
      hsl(var(--neon-cyan)),
      hsl(var(--neon-pink)),
      hsl(var(--electric-blue)),
      hsl(var(--neon-purple))
    );
    background-size: 400% 400%;
    animation: holographic-shift 3s ease infinite;
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .neon-border:hover::before {
    opacity: 1;
  }

  .neon-border::after {
    content: '';
    position: absolute;
    inset: 1px;
    background: hsl(var(--background));
    border-radius: inherit;
    z-index: -1;
  }

  /* Cyber Grid */
  .cyber-grid {
    background-image: 
      linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px),
      linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
    background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
    background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px;
    animation: grid-move 20s linear infinite;
  }

  @keyframes grid-move {
    0% { background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px; }
    100% { background-position: 98px 98px, 98px 98px, 19px 19px, 19px 19px; }
  }

  /* Glitch Effect */
  .glitch {
    position: relative;
    color: white;
    font-size: inherit;
    font-weight: bold;
    text-transform: uppercase;
    text-shadow: 
      0.05em 0 0 rgba(255, 0, 0, 0.75),
      -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
      0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    animation: glitch 500ms infinite;
  }

  @keyframes glitch {
    0% {
      text-shadow: 
        0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
        0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    14% {
      text-shadow: 
        0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
        0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    15% {
      text-shadow: 
        -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
        0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
        -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    49% {
      text-shadow: 
        -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
        0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
        -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    50% {
      text-shadow: 
        0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
        0.05em 0 0 rgba(0, 255, 0, 0.75),
        0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    99% {
      text-shadow: 
        0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
        0.05em 0 0 rgba(0, 255, 0, 0.75),
        0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    100% {
      text-shadow: 
        -0.025em 0 0 rgba(255, 0, 0, 0.75),
        -0.025em -0.025em 0 rgba(0, 255, 0, 0.75),
        -0.025em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
  }

  /* Aurora Background */
  .aurora-bg {
    background: linear-gradient(
      135deg,
      rgba(59, 130, 246, 0.1) 0%,
      rgba(147, 51, 234, 0.1) 25%,
      rgba(236, 72, 153, 0.1) 50%,
      rgba(59, 130, 246, 0.1) 75%,
      rgba(0, 242, 254, 0.1) 100%
    );
    background-size: 400% 400%;
    animation: aurora 15s ease infinite;
  }

  @keyframes aurora {
    0%, 100% { background-position: 0% 50%; }
    25% { background-position: 50% 25%; }
    50% { background-position: 100% 50%; }
    75% { background-position: 50% 75%; }
  }

  /* Floating Animation */
  .float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  /* Pulse Animation */
  .pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 
        0 0 20px rgba(59, 130, 246, 0.5),
        0 0 40px rgba(59, 130, 246, 0.3),
        0 0 60px rgba(59, 130, 246, 0.1);
    }
    50% {
      box-shadow: 
        0 0 30px rgba(59, 130, 246, 0.7),
        0 0 50px rgba(59, 130, 246, 0.5),
        0 0 70px rgba(59, 130, 246, 0.3);
    }
  }

  /* Matrix Digital Rain */
  .matrix-text {
    font-family: monospace;
    color: #00ff00;
    text-shadow: 0 0 5px #00ff00;
    opacity: 0.8;
  }

  /* Scan Line Effect */
  .scan-line {
    position: relative;
    overflow: hidden;
  }

  .scan-line::before {
    content: '';
    position: absolute;
    top: -100%;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(59, 130, 246, 0.4) 50%,
      transparent 100%
    );
    animation: scan 4s linear infinite;
  }

  @keyframes scan {
    0% { top: -100%; }
    100% { top: 100%; }
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(
      180deg,
      hsl(var(--primary)),
      hsl(var(--neon-cyan))
    );
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(
      180deg,
      hsl(var(--neon-cyan)),
      hsl(var(--primary))
    );
  }

  /* Selection Style */
  ::selection {
    background: hsl(var(--primary));
    color: white;
    text-shadow: none;
  }
  
  /* Focus Indicators for Accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }
  
  button:focus-visible,
  a:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
  }
  
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 0;
    border-color: hsl(var(--primary));
  }
  
  /* Skip link styles */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
  
  .not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Perspective Text */
  .perspective-text {
    transform: perspective(500px) rotateX(15deg);
    transform-origin: center bottom;
  }

  /* Morphing Shape Background */
  .morph-shape {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    animation: morph 8s ease-in-out infinite;
  }

  @keyframes morph {
    0%, 100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
  }
}

/* Improved cursor handling - less aggressive hiding */
@media (pointer: fine) {
  /* Only hide cursor on body and main containers, not all elements */
  .custom-cursor-enabled {
    cursor: none;
  }
  
  /* Keep cursor visible on interactive elements as fallback */
  .custom-cursor-enabled a:hover, 
  .custom-cursor-enabled button:hover, 
  .custom-cursor-enabled [role="button"]:hover {
    cursor: pointer !important;
  }
  
  /* Show cursor immediately if custom cursor fails */
  .custom-cursor-enabled.cursor-fallback,
  .custom-cursor-enabled.cursor-fallback * {
    cursor: auto !important;
  }
  
  /* Ensure cursor is visible on form elements */
  .custom-cursor-enabled input,
  .custom-cursor-enabled textarea,
  .custom-cursor-enabled select {
    cursor: text !important;
  }
}

/* Fallback for touch devices and when JS is disabled */
@media (pointer: coarse) {
  * {
    cursor: auto !important;
  }
}

/* Ultimate safety net - ensure cursor is never completely hidden */
body:not(.custom-cursor-enabled) * {
  cursor: auto !important;
}

/* Emergency override for cursor issues */
.force-cursor * {
  cursor: auto !important;
}

/* Circuit Pattern */
.circuit-pattern {
  position: relative;
}

.circuit-pattern::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 35px,
      rgba(59, 130, 246, 0.03) 35px,
      rgba(59, 130, 246, 0.03) 70px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 35px,
      rgba(59, 130, 246, 0.03) 35px,
      rgba(59, 130, 246, 0.03) 70px
    );
  pointer-events: none;
}

/* Grid Perspective */
.grid-perspective {
  position: absolute;
  inset: 0;
  background: 
    linear-gradient(rgba(59, 130, 246, 0.1) 2px, transparent 2px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.1) 2px, transparent 2px);
  background-size: 100px 100px;
  transform: perspective(500px) rotateX(60deg) scale(2);
  transform-origin: center center;
  animation: grid-animation 20s linear infinite;
  pointer-events: none;
  opacity: 0.3;
}

@keyframes grid-animation {
  0% { transform: perspective(500px) rotateX(60deg) scale(2) translateY(0); }
  100% { transform: perspective(500px) rotateX(60deg) scale(2) translateY(100px); }
}

/* Terminal Cursor */
.terminal-cursor::after {
  content: '_';
  animation: blink 1s step-end infinite;
  font-weight: bold;
  color: hsl(var(--primary));
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Hexagon Clip */
.hex-clip {
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
}

/* Future Card Styles */
.future-card {
  position: relative;
  transition: all 0.3s ease;
}

.future-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: linear-gradient(
    45deg,
    transparent 30%,
    hsl(var(--primary)) 50%,
    transparent 70%
  );
  opacity: 0;
  z-index: -1;
  transition: opacity 0.3s ease;
  border-radius: inherit;
}

.future-card:hover::before {
  opacity: 1;
  animation: shimmer 1s ease infinite;
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

/* Depth Shadow */
.depth-shadow {
  box-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 4px 8px rgba(0, 0, 0, 0.1),
    0 8px 16px rgba(0, 0, 0, 0.1),
    0 16px 32px rgba(0, 0, 0, 0.1);
}

/* Volumetric Light */
.volumetric-light {
  position: relative;
}

.volumetric-light::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle at center,
    rgba(59, 130, 246, 0.1) 0%,
    transparent 70%
  );
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.volumetric-light:hover::after {
  opacity: 1;
}

/* Digital Rain Effect */
@keyframes digital-rain {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

.digital-rain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.digital-rain::before {
  content: '010110100101011010010101101001';
  position: absolute;
  color: hsl(var(--primary));
  font-family: monospace;
  font-size: 20px;
  animation: digital-rain 5s linear infinite;
  opacity: 0.05;
  white-space: nowrap;
}
